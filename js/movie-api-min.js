(function(self){var api="http://localhost:1234/v1/";api="https://we-movies-3qlw.onrender.com/v1/";var MovieTypes=[{name:"Bollywood"},{name:"Hollywood"},{name:"DHollywood"}];function joinUrl(e,n){return e=e.trim(),n=n.trim(),e.replace(/\/$|$/,n.replace(/^\/|^/,"/"))}function resolver(e,n,t,i){return new Promise((function(r,o){var s=[];for(var a in t)(n[a]=function(){var n,i=arguments.callee.key,r=t[i];if(r instanceof Array)n=r[0](e,r[1]),r=r[1];else{var o=arguments;n=new Promise((function(e){s.push({key:i,arguments:o,callback:r,r:e})}))}return n}).key=a;(e=e.then(i).then(r)).then((function(e){for(var i in t){"function"==typeof(a=t[i])?n[i]=t[i]:a instanceof Array&&(n[i]=t[i][1])}t=void 0;for(var r=0;r<s.length;r++){var o=s[r].arguments,a=(i=s[r].key,s[r].val,s[r].callback);s[r].r(a(o[0],o[1],o[2]))}s=void 0}))}))}function List(e){function n(e,n){return function(i,r){return new List(i=i.then((function(i){var r=t[e];return r?r=fetch(r,n):new Promise((function(n,t){t("@List."+e+"\n null")}))})))}}var t,i={};i.first=[n("first"),function(){var e=t.first;return e=new List(e=fetch(e))}],i.last=[n("last"),function(){var e=t.last;return e=new List(e=fetch(e))}],i.next=[n("next"),function(){var e=t.next;return e=new List(e=fetch(e))}],i.previous=[n("prev"),function(){var e=t.prev;return e=new List(e=fetch(e))}],i.get=function(e){return new Promise((function(n){n(new Item(t.data[e]))}))},i.getAll=i.forEach=function(e){return new Promise((function(n){if("function"==typeof e)for(var i=0;i<t.data.length;i++)e(new Item(t.data[i]),i);n(t.data)}))},i.current_pagination=function(){return new Promise((function(e){e(t.pg_current)}))},i.pagination_size=function(){return new Promise((function(e){e(t.pg_length)}))},i.length=function(){return new Promise((function(e){e(t.length)}))},resolver(e,this,i,(function(e){var n=e.json();return e.json.x||(e.json=function(){return new Promise((function(e){e(n)}))},e.json.x=!0),n.then((function(e){!t&&(t=e)}))}))}function Item(e,info){var more=joinUrl(api,"info/"+e.id),low,md,hd,recommended,rating,obj;function getter(e){return function(){return new Promise((function(n){n(info[e])}))}}function res(name,i){return function(e){var _e=e.json();return e.json.x||(e.json=function(){return new Promise((function(e){e(_e)}))},e.json.x=!0),_e.then((function(res){eval(`!${name} && (${name} = res[0].files[i],${name}.id1=i)`)}))}}function prop(name){return function(){return new Promise((function(r){eval(`r(new Source(${name}, e))`)}))}}more+="?plain=true",this.year=e.year||new Date(e.datePublished).getFullYear(),this.imdbProfile=e.meta["imdb-profile"]||"",this.description=e.description||e.plot,this.imageThumb=e["image-thumb"]||"",this.imdbTitle=e["imdb-title"]||"",this.title=e.title||"",this.image=e.image||"",this.type=e.type||"",this.id=e.id||"",info&&(obj=this)||(obj={}),obj.getName=getter("name"),obj.getImdbRating=function(){var e=info["imdb-rating"];return new Promise((function(n){fetch(e).then((function(e){return e.json()})).then((function(e){n(e)}))}))},obj.getRuntime=getter("runtime"),obj.getTrailer=getter("trailer"),obj.getTrailerHtml=getter("trailerHTML"),obj.getGenres=getter("genre"),obj.getTags=getter("tags"),obj.getPlot=getter("plot"),obj.getDirectors=getter("directors"),obj.getDateModified=getter("dateModified"),obj.getDatePublished=getter("datePublished"),obj.getRecommendations=function(e){var n=info.recommended;return new Promise((function(t){t(recommended?new Recommendations(recommended,void 0,e):recommended=new Recommendations(n,!0,e))}))},!info&&resolver(fetch(more),this,obj,(function(e){var n=e.json();return e.json.x||(e.json=function(){return new Promise((function(e){e(n)}))},e.json.x=!0),n.then((function(e){!info&&(info=e)}))})),this.downloads={getLowQuality:null,getStandardQuality:null,getHdQuality:null},resolver(fetch(joinUrl(api,"info/downloads/low/"+e.id)),this.downloads,{getLowQuality:prop("low")},res("low",0));var hdReq=fetch(joinUrl(api,"info/downloads/hd/"+e.id));resolver(hdReq,this.downloads,{getStandardQuality:prop("md")},res("md",0)),resolver(hdReq,this.downloads,{getHdQuality:prop("hd")},res("hd",1))}function Recommendations(e,n,t){if(this.__proto__=[],n)for(var i=0;i<e.length;i++){(r=e[i]).getInfo=function(){return new Promise((function(e){fetch(joinUrl(api,"info/"+r.id+"?plain=true")).then((function(n){n.json().then((function(n){e(new Item(n,n))}))}))}))},"function"==typeof t&&t(r,i),this.push(r)}else for(i=0;i<e.length;i++){var r=e[i];"function"==typeof t&&t(r,i),this.push(r)}}function Source(e,n){this.__proto__=[];for(var t=0;t<e.length;t++){var i=e[t];i.id1=e.id1,i.id2=t,this.push(new File(i,n))}}function Downloads(e,n){this.__proto__=[];for(var t=0;t<e.length;t++)for(var i=e[t].files,r=0;r<i.length;r++){var o=[];this.push(o);for(var s=0;s<i[r].length;s++){var a=i[r][s];o.push(new File(a,n))}}}function File(e,n){var t,i;this.size=e.size,this.name=e.name,this.tag=e.tag,resolver(fetch(e.src),this,{getSources:function(){return new Promise((function(e){e(new FileSources(i))}))}},(function(e){return e.json().then((function(e){i=e}))})),resolver(fetch(joinUrl(api,"download/direct/source/"+e.id1+"/"+e.id2+"/"+n.id)),this,{getSource:function(){return new Promise((function(e){e(t)}))}},(function(e){return e.json().then((function(e){t=e}))}))}function FileSources(e){this.__proto__=[],this.name=e.name,this.size=e.size;for(var n=0;n<e.links.length;n++){var t=e.links[n];this.push(t),function(e){var n,t=e.alternative_link;delete e.alternative_link,resolver(fetch(t),e,{getAlternativeSources:function(){return new Promise((function(e){e(n)}))}},(function(e){return e.json().then((function(e){n=e}))}))}(t)}}function Movie(){var e=MovieTypes[1];function n(n){return function(t){var i=joinUrl(api,"movies/search?searchname="+encodeURIComponent(t)+"&id="+e+"&by="+n);return new List(i=fetch(i))}}this.api=api,this.getList=function(){var e=joinUrl(api,"movies/list?pg=1&by=date&catID=2");return new List(e=fetch(e))},this.searchByName=n("Name"),this.searchByDirector=n("Director"),this.searchByStarcast=n("Starcast")}self.Movie=Movie})(this);